[pytest]
# Configuração do Pytest para o Sistema LIA
# ==========================================

# Diretório de testes
testpaths = tests

# Padrões de arquivos de teste
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Opções padrão
addopts =
    -v
    --tb=short
    --strict-markers
    -ra
    --cov=app
    --cov-report=html
    --cov-report=term-missing
    --cov-fail-under=70

# Markers customizados
markers =
    unit: Testes unitários (rápidos, sem I/O)
    integration: Testes de integração (requerem banco/serviços)
    slow: Testes lentos
    api: Testes de endpoints da API
    models: Testes de models do banco
    security: Testes de segurança

# Configuração de async
asyncio_mode = auto

# Ignorar warnings específicos
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Timeout padrão para testes async (segundos)
timeout = 30
